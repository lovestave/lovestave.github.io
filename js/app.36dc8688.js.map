{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?421f","webpack:///./src/components/Sidebar.vue?371d","webpack:///./src/js/utils.js","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?d975","webpack:///./src/components/Sidebar.vue","webpack:///./src/components/Content.vue?0ce5","webpack:///src/components/Content.vue","webpack:///./src/components/Content.vue?ec27","webpack:///./src/components/Content.vue","webpack:///./src/components/Preview.vue?e416","webpack:///src/components/Preview.vue","webpack:///./src/components/Preview.vue?e445","webpack:///./src/components/Preview.vue","webpack:///./src/components/PasswordInput.vue?dbd9","webpack:///src/components/PasswordInput.vue","webpack:///./src/components/PasswordInput.vue?0f61","webpack:///./src/components/PasswordInput.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","this$1","this","_vm","_h","$createElement","_c","_self","class","sidebar_shown_on_pc_mode","attrs","contentAlbumName","contentFriendlyName","on","val","sidebar_shown_on_mobile_mode","a","b","e","previewPhoto","directives","rawName","expression","staticClass","$event","ref","album_name","friendly_name","preview_filename","preview_imagelist","preview_index","preview_album_name","preview_current_obj","preview_shown","pwd","checkPassword","staticRenderFns","staticStyle","handleScroll","shouldShowSemiTransparentNavBar","_v","raise_event_show_sidebar","logout","style","marginTop","opacity","get_css_class_list_item","on_switch_album","_l","album","backgroundImage","preview","_s","get_secured_json","url","password","enabled_password","miyuki_password","Promise","resolve","reject","fetch","then","response","ok","json","Error","catch","x","console","error","get_json","methods","$emit","album_friendly_name","selected_album_name","innerWidth","log","localStorage","removeItem","location","reload","component","sidebar_shown_pc","photo_count","photo","get_thumbnail_image","al","raise_event_show_preview","photo_list","components","props","page_count","current_page_to_load","initial_scroll_height","response_load_new","computed","album_common_prefix","base_name","album_get_count_json_name","album_get_image_at_current_page_json_name","String","watch","initialize","created","image_file_name","photo_index","photo_obj","alumn_name","image_name","load_image","showNavBar","photo_name","raise_hide_preview","catalog_name","downloadPhoto","current_photo_filename","replace","thumbnail_path","photo_path","thumbnail_path_at_index","photo_path_at_index","open","getBackgroundSize","pr","wr","dr","fill_height","fill_width","current_photo","preview_img_style","backgroundSize","preview_cache_img_style","mounted","passwordErrorMsgShown","domProps","type","indexOf","_k","keyCode","submitPassword","target","composing","passwordEntered","password_dialog_shown","feedback","bResult","$refs","pi","focus","Sidebar","filename","index","sidebar","getAlbumList","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.36dc8688.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:['content-container', _vm.sidebar_shown_on_pc_mode?'':'side-hidden-screen']},[_c('ContentView',{attrs:{\"base_name\":_vm.contentAlbumName,\"album_friendly_name\":_vm.contentFriendlyName,\"sidebar_shown_pc\":_vm.sidebar_shown_on_pc_mode},on:{\"should-show-sidebar\":function (val, mode) { return mode === 'mobile' ? _vm.sidebar_shown_on_mobile_mode = val : _vm.sidebar_shown_on_pc_mode = val; },\"preview-photo\":function (a,b,c,d,e) { return _vm.previewPhoto(a,b,c,d,e); }}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar_shown_on_mobile_mode),expression:\"sidebar_shown_on_mobile_mode\"}],staticClass:\"sidebar-mobile-mask\",on:{\"click\":function($event){_vm.sidebar_shown_on_mobile_mode = false}}}),_c('div',{class:['sidebar-container', _vm.sidebar_shown_on_pc_mode?'':'side-hidden-screen', _vm.sidebar_shown_on_mobile_mode?'sidebar-mobile-shown':'']},[_c('Sidebar',{ref:\"sidebar\",on:{\"switch-album\":function (album_name, friendly_name) { this$1.contentAlbumName = album_name; this$1.contentFriendlyName = friendly_name; },\"should-show-sidebar\":function (val, mode) { return mode === 'mobile' ? _vm.sidebar_shown_on_mobile_mode = val : _vm.sidebar_shown_on_pc_mode = val; }}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.preview_shown),expression:\"preview_shown\"}],staticClass:\"preview-container\"},[_c('Preview',{attrs:{\"current_photo_filename\":_vm.preview_filename,\"image_list\":_vm.preview_imagelist,\"index\":_vm.preview_index,\"current_album_name\":_vm.preview_album_name,\"catalog_name\":_vm.contentFriendlyName,\"current_photo\":_vm.preview_current_obj},on:{\"hide-preview\":function($event){_vm.preview_shown = false}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.password_input_shown),expression:\"password_input_shown\"}],staticClass:\"password-container\"},[_c('PasswordInput',{ref:\"password_input\",on:{\"submit-password\":function (pwd) { return _vm.checkPassword(pwd); }}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-left\":\"10px\",\"padding-right\":\"10px\",\"height\":\"100%\",\"overflow-y\":\"auto\"},on:{\"scroll\":_vm.handleScroll}},[_c('div',{class:['navbar', _vm.shouldShowSemiTransparentNavBar ? '' : 'large']},[_c('div',{staticClass:\"nav-title\"},[_vm._v(\" 照片 \")]),_c('div',{staticClass:\"left-button-group\"},[_c('a',{staticClass:\"hidden-btn\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function () { this$1.raise_event_show_sidebar(false, 'mobile'); this$1.raise_event_show_sidebar(false, 'pc') }}},[_vm._v(\"隐藏\")])]),_c('div',{staticClass:\"right-button-group\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"退出\")])])]),_c('div',{staticClass:\"title1 navtitle\",style:({ marginTop: '50px', opacity: 1-_vm.shouldShowSemiTransparentNavBar })},[_vm._v(\" 照片 \")]),_c('div',{staticClass:\"listview\",staticStyle:{\"margin-top\":\"5px\"}},[_c('a',{class:_vm.get_css_class_list_item('/all'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.on_switch_album('/all', '图库')}}},[_c('span',[_vm._v(\"图库\")])]),_c('a',{class:_vm.get_css_class_list_item('/recent'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.on_switch_album('/recent', '最近项目')}}},[_c('span',[_vm._v(\"最近项目\")])]),_c('a',{class:_vm.get_css_class_list_item('/fav'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.on_switch_album('/fav', '个人收藏')}}},[_c('span',[_vm._v(\"个人收藏\")])])]),_c('div',{staticClass:\"title2\"},[_vm._v(\" 我的相簿 \")]),_c('div',{staticClass:\"listview\"},_vm._l((_vm.album_list),function(album){return _c('a',{key:album.name,class:_vm.get_css_class_list_item(album.name),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.on_switch_album(album.name, album.friendly_name)}}},[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"list_img\",style:({ backgroundImage: album.preview==='' ? '':'url(\\'/api/album-cache/' + album.name + '/' + album.preview + '\\')' })}),_c('span',{staticStyle:{\"margin-left\":\"27px\"}},[_vm._v(_vm._s(album.friendly_name))])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","///////// NETWORK\n\nfunction get_secured_json(url) {\n    let password = \".\";\n    if (window.enabled_password)\n        password = window.miyuki_password;\n    return new Promise((resolve, reject) => {\n        fetch(`/api/${password}/${url}.json`).then(function(response) {\n            if(response.ok) {\n                return resolve(response.json())\n            }\n            throw new Error('Network response was not ok: url');\n        }).catch(function (x) {\n            console.error('HTTP Request: /GET ' + url + ' [FAILED]', x);\n            reject(x);\n        });\n    })\n}\n\nfunction get_json(url) {\n    return new Promise((resolve, reject) => {\n        fetch(`/api/${url}.json`).then(function(response) {\n            if(response.ok) {\n                return resolve(response.json())\n            }\n            throw new Error('Network response was not ok: url');\n        }).catch(function (x) {\n            console.error('HTTP Request: /GET ' + url + ' [FAILED]', x);\n            reject(x);\n        });\n    })\n}\n\n\nexport default {\n    get_secured_json: get_secured_json,\n    get_json: get_json\n}","<template>\n  <div style=\"padding-left: 10px; padding-right: 10px; height: 100%; overflow-y: auto\" @scroll=\"handleScroll\">\n    <div :class=\"['navbar', shouldShowSemiTransparentNavBar ? '' : 'large']\">\n      <div class=\"nav-title\">\n        照片\n      </div>\n      <div class=\"left-button-group\">\n        <a class=\"hidden-btn\" href=\"javascript:void(0)\" @click=\"() => { this.raise_event_show_sidebar(false, 'mobile'); this.raise_event_show_sidebar(false, 'pc') }\">隐藏</a>\n      </div>\n\n      <div class=\"right-button-group\">\n        <a href=\"javascript:void(0)\" @click=\"logout()\">退出</a>\n      </div>\n    </div>\n\n    <div class=\"title1 navtitle\" :style=\"{ marginTop: '50px', opacity: 1-shouldShowSemiTransparentNavBar }\">\n      照片\n    </div>\n\n    <div class=\"listview\" style=\"margin-top: 5px;\">\n      <a :class=\"get_css_class_list_item('/all')\" @click=\"on_switch_album('/all', '图库')\" href=\"javascript:void(0)\"><span>图库</span></a>\n      <a :class=\"get_css_class_list_item('/recent')\" @click=\"on_switch_album('/recent', '最近项目')\" href=\"javascript:void(0)\"><span>最近项目</span></a>\n      <a :class=\"get_css_class_list_item('/fav')\" @click=\"on_switch_album('/fav', '个人收藏')\" href=\"javascript:void(0)\"><span>个人收藏</span></a>\n    </div>\n\n    <div class=\"title2\">\n      我的相簿\n    </div>\n    <div class=\"listview\">\n      <a :class=\"get_css_class_list_item(album.name)\" @click=\"on_switch_album(album.name, album.friendly_name)\"  href=\"javascript:void(0)\" v-for=\"album in album_list\" :key=\"album.name\">\n        <div style=\"position: relative\">\n          <div class=\"list_img\" :style=\"{ backgroundImage: album.preview==='' ? '':'url(\\'/api/album-cache/' + album.name + '/' + album.preview + '\\')' }\"></div>\n          <span style=\"margin-left: 27px;\">{{ album.friendly_name }}</span>\n        </div>\n\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/style.css';\nimport '../css/sidebar.css';\nimport utils from \"@/js/utils\";\n\nexport default {\n  name: \"Sidebar\",\n  data: () => ({\n    album_list: [],\n    selected_album_name: '/all',\n\n    shouldShowSemiTransparentNavBar: false,\n  }),\n  methods: {\n    raise_event_show_sidebar(val, mode) {\n      this.$emit('should-show-sidebar', val, mode);\n    },\n    on_switch_album(album_name, album_friendly_name) {\n      this.$emit('switch-album', album_name, album_friendly_name);\n      this.selected_album_name = album_name;\n      if (window.innerWidth <= 1200) {\n        this.raise_event_show_sidebar(false, 'mobile');\n      }\n    },\n    get_css_class_list_item(album_name) {\n      return album_name === this.selected_album_name ? \"selected\" : \"\";\n    },\n    handleScroll: function(el) {\n      console.log((el.srcElement.scrollTop));\n      if((el.srcElement.scrollTop) >= 30) {\n        this.shouldShowSemiTransparentNavBar = true;\n      }\n      else {\n        console.log('ttt');\n        this.shouldShowSemiTransparentNavBar = false;\n      }\n    },\n    async getAlbumList() {\n      this.album_list = await utils.get_secured_json('get-album')\n    },\n    logout() {\n      localStorage.removeItem('password');\n      location.reload();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=c940d8be&scoped=true&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c940d8be\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"overflow-y\":\"auto\"},on:{\"scroll\":_vm.handleScroll}},[_c('div',{staticClass:\"cnav\"},[_c('div',{class:['title', 'left', _vm.sidebar_shown_pc?'':'sidebar-hidden']},[_c('span',{staticClass:\"title-text\"},[_vm._v(_vm._s(_vm.album_friendly_name))])]),_c('div',{staticClass:\"title right\"},[_c('span',{staticStyle:{\"color\":\"#eee\",\"margin-right\":\"10px\"}},[_vm._v(_vm._s(_vm.photo_count)+\"张图片\")]),_c('button',[_vm._v(\"共享\")])]),_c('div',{staticClass:\"back left\",staticStyle:{\"line-height\":\"45px\",\"left\":\"18px\",\"top\":\"0\"},on:{\"click\":function($event){return _vm.raise_event_show_sidebar(true, 'mobile')}}},[_c('i',{staticClass:\"larrow\",staticStyle:{\"border-color\":\"white\"}}),_c('span',{staticClass:\"backtext\"},[_vm._v(\"照片\")])]),_c('div',{class:['back', 'left', 'sidebar-hidden-left', _vm.sidebar_shown_pc?'':'sidebar-hidden'],staticStyle:{\"line-height\":\"45px\",\"left\":\"18px\",\"top\":\"0\"},on:{\"click\":function($event){return _vm.raise_event_show_sidebar(true, 'pc')}}},[_c('span',{staticClass:\"backtext\"},[_vm._v(\"显示\")])])]),_c('div',_vm._l((_vm.photo_list),function(photo,i){return _c('div',{key:i,staticClass:\"photo box\",style:({ backgroundImage: (\"url('\" + (_vm.get_thumbnail_image(photo.al, photo.name)) + \"')\") }),attrs:{\"photo-name\":photo.name},on:{\"click\":function($event){return _vm.raise_event_show_preview(photo.name, _vm.photo_list, i, photo.al, photo)}}})}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div  style=\"height: 100%; overflow-y: auto\" @scroll=\"handleScroll\">\n    <div class=\"cnav\">\n      <div :class=\"['title', 'left', sidebar_shown_pc?'':'sidebar-hidden']\">\n        <span class=\"title-text\">{{ album_friendly_name }}</span>\n      </div>\n      <div class=\"title right\">\n        <span style=\"color: #eee; margin-right: 10px;\">{{ photo_count }}张图片</span>\n        <button>共享</button>\n\n      </div>\n      <div class=\"back left\"   style=\"line-height:45px; left: 18px; top: 0\" @click=\"raise_event_show_sidebar(true, 'mobile')\">\n        <i class=\"larrow\" style=\"border-color: white\"></i><span class=\"backtext\">照片</span>\n      </div>\n\n      <div :class=\"['back', 'left', 'sidebar-hidden-left', sidebar_shown_pc?'':'sidebar-hidden']\" @click=\"raise_event_show_sidebar(true, 'pc')\" style=\"line-height:45px; left: 18px; top: 0\">\n        <span class=\"backtext\">显示</span>\n      </div>\n    </div>\n\n    <div>\n      <div class=\"photo box\" v-for=\"(photo, i) in photo_list\" :photo-name=\"photo.name\" :key=\"i\" :style=\"{ backgroundImage: `url('${ get_thumbnail_image(photo.al, photo.name) }')` }\"\n            @click=\"raise_event_show_preview(photo.name, photo_list, i, photo.al, photo)\"\n      >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n//import IDMapping from \"@/js/IDMapping\";\nimport '../css/style.css'\nimport '../css/contentview.css'\n\nimport utils from \"@/js/utils\";\nconst PHOTO_PER_PAGE = 50;\n\nexport default {\n  name: \"Content\",\n  components: {},\n  props: [ 'base_name', 'album_friendly_name', 'sidebar_shown_pc' ],\n  data() {\n    return {\n      page_count: 0,\n      current_page_to_load: 0,\n      photo_count: 0,\n      photo_list: [],\n      initial_scroll_height: 0,\n      response_load_new: true,\n    }\n  },\n  computed: {\n    album_common_prefix() {\n      if (this.base_name === '/all')\n        return 'get-photo-';\n      if (this.base_name === '/recent')\n        return 'get-recent-photo-';\n      if (this.base_name === '/fav')\n        return 'get-fav-photo-'; /// NOT: load from localstorage\n      return this.base_name + '-get-photo-';\n    },\n    album_get_count_json_name() {\n      return this.album_common_prefix + \"count\";\n    },\n    album_get_image_at_current_page_json_name() {\n      return this.album_common_prefix + \"page-\" + String(this.current_page_to_load);\n    },\n  },\n  watch: {\n    base_name() {\n      this.initialize();\n    }\n  },\n  created() {},\n  async mounted() {\n    this.initialize();\n  },\n  methods: {\n    raise_event_show_sidebar(val, mode) {\n      this.$emit('should-show-sidebar', val, mode);\n    },\n    raise_event_show_preview(image_file_name, photo_list, photo_index, album_name, photo_obj) {\n      this.$emit('preview-photo', image_file_name, photo_list, photo_index, album_name, photo_obj);\n    },\n    async load_image() {\n      if (!this.response_load_new) {\n        return;\n      }\n      this.response_load_new = false;\n      setTimeout(() => { this.response_load_new = true; }, 1000)\n      if (this.current_page_to_load >= this.page_count)\n        return;\n      this.photo_list.push(...await utils.get_secured_json(this.album_get_image_at_current_page_json_name));\n      this.current_page_to_load++;\n    },\n    get_thumbnail_image(alumn_name ,image_name) {\n      return \"/api/album-cache/\" + alumn_name + \"/\" + image_name;\n    },\n    async initialize() {\n      if (this.base_name === \"\")\n        return;\n\n      this.current_page_to_load = 0;\n      this.photo_list = [];\n      this.response_load_new = true;\n      this.initial_scroll_height = 0;\n      this.photo_count = this.page_count = 0;\n      // get page count\n      this.photo_count = (await utils.get_secured_json(this.album_get_count_json_name)).count;\n      this.page_count = Math.ceil(this.photo_count / PHOTO_PER_PAGE);\n\n      // load page 0 first\n      if (this.page_count > 0) {\n        this.load_image();\n      }\n    },\n    handleScroll: function(el) {\n      if (this.initial_scroll_height === 0)\n        this.initial_scroll_height = el.srcElement.scrollHeight / 10;\n      if((el.srcElement.offsetHeight + el.srcElement.scrollTop) >= el.srcElement.scrollHeight - this.initial_scroll_height) {\n        this.load_image()\n      }\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Content.vue?vue&type=template&id=76c61232&scoped=true&\"\nimport script from \"./Content.vue?vue&type=script&lang=js&\"\nexport * from \"./Content.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76c61232\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.showNavBar ? 'preview-with-navbar' : 'preview-hidden-navbar',staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"45%\",\"text-align\":\"center\",\"color\":\"#888\",\"display\":\"block\",\"width\":\"100%\"}},[_vm._v(\"正在加载图片...\")]),_c('div',{staticClass:\"preview-photo-base preview-bg\",style:(_vm.preview_cache_img_style)}),_c('div',{staticClass:\"preview-photo-high-res preview-bg\",style:(_vm.preview_img_style)}),_c('div',{staticClass:\"preview-mask\",on:{\"click\":function () { _vm.showNavBar = !_vm.showNavBar }}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showNavBar),expression:\"showNavBar\"}],staticClass:\"navbar\",staticStyle:{\"width\":\"100% !important\"}},[_c('div',{staticClass:\"nav-title\"},[_vm._v(\" \"+_vm._s(_vm.photo_name)+\" \")]),_c('div',{staticClass:\"left-button-group\",on:{\"click\":function($event){return _vm.raise_hide_preview()}}},[_c('i',{staticClass:\"larrow\"}),_c('span',{staticClass:\"backtext\"},[_vm._v(_vm._s(_vm.catalog_name === '' ? '相册列表':_vm.catalog_name))])]),_c('div',{staticClass:\"right-button-group\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.downloadPhoto()}}},[_vm._v(\"下载\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"showNavBar ? 'preview-with-navbar' : 'preview-hidden-navbar'\" style=\"width: 100%; height: 100%;\">\n    <span style=\"position: absolute; top: 45%; text-align: center; color: #888; display: block; width: 100%;\">正在加载图片...</span>\n    <div class=\"preview-photo-base preview-bg\" :style=\"preview_cache_img_style\"></div>\n    <div class=\"preview-photo-high-res preview-bg\" :style=\"preview_img_style\"></div>\n    <div class=\"preview-mask\" @click=\"() => { showNavBar = !showNavBar }\"></div>\n    <div class=\"navbar\" style=\"width: 100% !important;\" v-show=\"showNavBar\">\n      <div class=\"nav-title\">\n        {{ photo_name }}\n      </div>\n      <div class=\"left-button-group\" @click=\"raise_hide_preview()\">\n        <i class=\"larrow\"></i><span class=\"backtext\">{{ catalog_name === '' ? '相册列表':catalog_name }}</span>\n      </div>\n\n      <div class=\"right-button-group\">\n        <a href=\"javascript:void(0)\" @click=\"downloadPhoto()\">下载</a>\n      </div>\n\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/style.css';\nimport '../css/preview.css';\n\nexport default {\n  name: \"Preview\",\n  props: [ 'current_album_name', 'current_photo_filename', 'image_list', 'index', 'catalog_name', 'current_photo' ],\n  data: () => ({\n    showNavBar: true,\n    preview_img_style: {},\n    preview_cache_img_style: {}\n  }),\n  computed: {\n    photo_name() {\n      return this.current_photo_filename.replace(/\\.[a-z|A-Z|0-9]*$/g, \"\");\n    },\n    thumbnail_path() {\n      return `/api/album-cache/${this.current_album_name}/${this.current_photo_filename}`;\n    },\n    photo_path() {\n      return `/api/album/${this.current_album_name}/${this.current_photo_filename}`;\n    },\n  },\n  methods: {\n    raise_hide_preview() {\n      this.$emit('hide-preview');\n    },\n    thumbnail_path_at_index(i) {\n      return `/api/album-cache/${this.image_list[i].al}/${this.image_list[i].name}`;\n    },\n    photo_path_at_index(i) {\n      return `/api/album/${this.image_list[i].al}/${this.image_list[i].name}`;\n    },\n    downloadPhoto() {\n      window.open(this.photo_path);\n    },\n    getBackgroundSize() {\n      //current_photo.h > current_photo.w ? 'auto 100%':'100% auto'\n      let ph = this.current_photo.h;\n      let pw = this.current_photo.w;\n      let wh = window.innerHeight;\n      let ww = window.innerWidth;\n      let pr = pw / ph;\n      let wr = ww / wh;\n      let dr = pr - wr;\n      const fill_width = 'auto 100%';\n      const fill_height = '100% auto';\n      console.log(pr, wr);\n      if (pr > 1) { // 横屏\n        if (wr > 1) { // 横图\n          if (dr > 0) return fill_height;\n          else return fill_width;\n        }\n        else { // 竖图\n          return fill_height;\n        }\n      }\n      else { // 竖屏\n        if (wr > 1) { // 横图\n          return fill_width;\n        }\n        else { // 竖图\n          if (dr > 0) {\n            return fill_height;\n          }\n          else return fill_width;\n        }\n      }\n    }\n  },\n  watch: {\n    current_photo() {\n      this.preview_img_style = {\n        backgroundImage: 'url(\\''+this.photo_path+'\\')',\n        backgroundSize: this.getBackgroundSize()\n      };\n\n      this.preview_cache_img_style = {\n        backgroundImage: 'url(\\''+this.thumbnail_path+'\\')',\n        backgroundSize: this.getBackgroundSize()\n      };\n    }\n  },\n  mounted() {},\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=1346e270&scoped=true&\"\nimport script from \"./Preview.vue?vue&type=script&lang=js&\"\nexport * from \"./Preview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1346e270\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pwdi\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"height\":\"100%\",\"width\":\"100%\",\"margin\":\"0 0\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true || _vm.password_dialog_shown),expression:\"true || password_dialog_shown\"}],staticClass:\"dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" 相册 \")]),_c('div',{staticClass:\"ctnt\"},[(!_vm.passwordErrorMsgShown)?_c('p',[_vm._v(\"请输入密码以访问相册。\")]):_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"密码错误，请重新输入！\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordEntered),expression:\"passwordEntered\"}],ref:\"pi\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.passwordEntered)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitPassword()},\"input\":function($event){if($event.target.composing){ return; }_vm.passwordEntered=$event.target.value}}}),_c('div',{staticStyle:{\"padding-top\":\"25px\",\"text-align\":\"center\"}},[_c('button',{staticClass:\"primary\",staticStyle:{\"width\":\"100px\"},attrs:{\"disabled\":!_vm.password_dialog_shown},on:{\"click\":function($event){return _vm.submitPassword()}}},[_vm._v(\"确定\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pwdi\">\n    <div style=\"position: relative; height: 100%; width: 100%; margin: 0 0\">\n      <div class=\"dialog\" v-show=\"true || password_dialog_shown\">\n        <div class=\"title\">\n          相册\n        </div>\n        <div class=\"ctnt\">\n          <p v-if=\"!passwordErrorMsgShown\">请输入密码以访问相册。</p>\n          <p v-else style=\"color: red\">密码错误，请重新输入！</p>\n          <input ref=\"pi\" type=\"password\" placeholder=\"密码\" v-model=\"passwordEntered\" @keyup.enter=\"submitPassword()\"/>\n          <div style=\"padding-top: 25px; text-align: center\">\n            <button class=\"primary\" style=\"width: 100px;\" @click=\"submitPassword()\" :disabled=\"!password_dialog_shown\">确定</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/passwordinput.css';\nimport utils from \"@/js/utils\";\nlet md5 = require('js-md5');\n\nexport default {\n  name: \"PasswordInput\",\n  data: () => ({\n    passwordErrorMsgShown: false,\n    passwordEntered: '',\n\n    password_dialog_shown: true,\n    showInput: true,\n  }),\n  methods: {\n    async submitPassword() {\n      if (!this.password_dialog_shown) return;\n      console.log('submit password: ', md5(this.passwordEntered));\n      if (this.passwordEntered === '') return this.$refs.pi.focus();\n      this.password_dialog_shown = false;\n      this.$emit('submit-password', md5(this.passwordEntered));\n    },\n    feedback(bResult) {\n      if (!bResult) {\n        this.password_dialog_shown = true;\n        this.passwordEntered = '';\n        this.passwordErrorMsgShown = true;\n      }\n    }\n  },\n  watch: {\n    password_dialog_shown() {\n\n    }\n  },\n  mounted() {\n    this.$refs.pi.focus();\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PasswordInput.vue?vue&type=template&id=2e6cf5bf&scoped=true&\"\nimport script from \"./PasswordInput.vue?vue&type=script&lang=js&\"\nexport * from \"./PasswordInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e6cf5bf\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div :class=\"['content-container', sidebar_shown_on_pc_mode?'':'side-hidden-screen']\">\n      <ContentView :base_name=\"contentAlbumName\" :album_friendly_name=\"contentFriendlyName\"\n                   @should-show-sidebar=\"(val, mode) =>  mode === 'mobile' ? sidebar_shown_on_mobile_mode = val : sidebar_shown_on_pc_mode = val\"\n                   :sidebar_shown_pc = \"sidebar_shown_on_pc_mode\"\n                   @preview-photo=\"(a,b,c,d,e) => previewPhoto(a,b,c,d,e)\"\n      ></ContentView>\n    </div>\n    <div class=\"sidebar-mobile-mask\" v-show=\"sidebar_shown_on_mobile_mode\" @click=\"sidebar_shown_on_mobile_mode = false\"></div>\n    <div :class=\"['sidebar-container', sidebar_shown_on_pc_mode?'':'side-hidden-screen', sidebar_shown_on_mobile_mode?'sidebar-mobile-shown':'']\">\n      <Sidebar ref=\"sidebar\"\n               @switch-album=\"(album_name, friendly_name) => { this.contentAlbumName = album_name; this.contentFriendlyName = friendly_name; }\"\n               @should-show-sidebar=\"(val, mode) =>  mode === 'mobile' ? sidebar_shown_on_mobile_mode = val : sidebar_shown_on_pc_mode = val\"\n      ></Sidebar>\n    </div>\n    <div class=\"preview-container\" v-show=\"preview_shown\">\n      <Preview  :current_photo_filename=\"preview_filename\" :image_list=\"preview_imagelist\" :index=\"preview_index\" :current_album_name=\"preview_album_name\"\n                :catalog_name=\"contentFriendlyName\" :current_photo=\"preview_current_obj\"\n                @hide-preview=\"preview_shown = false\"\n      ></Preview>\n    </div>\n    <div class=\"password-container\" v-show=\"password_input_shown\">\n      <PasswordInput ref=\"password_input\" @submit-password=\"pwd => checkPassword(pwd)\"></PasswordInput>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Sidebar from \"@/components/Sidebar\";\nimport ContentView from \"@/components/Content\";\nimport Preview from '@/components/Preview';\nimport PasswordInput from \"@/components/PasswordInput\";\n\nimport utils from \"@/js/utils\";\nlet md5 = require('js-md5');\n\nexport default {\n  name: 'App',\n  components: {\n    Sidebar, ContentView, Preview, PasswordInput\n  },\n  data: () => ({\n    activeName: 'beautiful-album',\n    content_view_shown: true,\n    sidebar_shown_on_mobile_mode: false,\n    sidebar_shown_on_pc_mode: true,\n    password_input_shown: false,\n\n    preview_shown: false,\n    preview_filename: '',\n    preview_imagelist: [],\n    preview_index: 0,\n    preview_album_name: '',\n    preview_current_obj: '',\n\n    contentAlbumName: \"\",\n    contentFriendlyName: \"\",\n  }),\n  methods: {\n    previewPhoto(filename, photo_list, index, album_name, photo_obj) {\n      this.preview_filename = filename;\n      this.preview_index = index;\n      this.preview_imagelist = photo_list;\n      this.preview_album_name = album_name;\n      this.preview_current_obj = photo_obj;\n      this.preview_shown = true;\n    },\n\n    async requirePassword() {\n      this.password_input_shown = true;\n    },\n\n    async checkPassword(pwd) {\n      window.miyuki_password = pwd\n      window.enabled_password = true;\n      try {\n        await utils.get_secured_json('get-album');\n        localStorage.setItem(\"password\", pwd)\n        this.$refs.password_input.feedback(true);\n        this.password_input_shown = false;\n        this.initialize();\n      }\n      catch (ee) {\n        localStorage.removeItem(\"password\");\n        this.requirePassword();\n        this.$refs.password_input.feedback(false);\n      }\n    },\n\n    initialize() {\n      this.$refs.sidebar.getAlbumList();\n\n      this.contentAlbumName = \"/all\";\n      this.contentFriendlyName = \"图库\";\n    }\n  },\n  async mounted() {\n    if (window.innerWidth <= 500)\n      this.sidebar_shown_on_mobile_mode = true;\n\n    // Check if password enabled\n    let password_enabled = await utils.get_json('password');\n    password_enabled = password_enabled.enabled;\n    let __TRUE__ = true;\n    if (password_enabled) {\n      if (localStorage.getItem(\"password\") !== null) {\n        this.checkPassword(localStorage.getItem(\"password\"))\n      }\n      else this.requirePassword();\n    }\n    else {\n      window.enabled_password = false;\n      this.initialize();\n    }\n\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 10px;\n}\n\n/* TODO: Consider mobile devices */\n\n.sidebar-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: inline-block;\n  width: 25%;\n  height: 100%;\n  background: aliceblue;\n}\n.content-container {\n  position: fixed;\n  top: 0;\n  right: 0;\n  display: inline-block;\n  width: 75%;\n  background: #fff;\n  height: 100%;\n}\n\n.sidebar-container.sidebar-hidden {\n  display: none;\n  position: fixed;\n  z-index: 2333;\n  top: 0;\n  width: 300px;\n  height: 100%;\n}\n.sidebar-container.sidebar-hidden {\n  display: block;\n}\n.content-container.sidebar-hidden {\n  width: 100%;\n}\n\n.sidebar-container.side-hidden-screen {\n  display: none;\n}\n.content-container.side-hidden-screen {\n  left: 0;\n  width: 100%;\n}\n\n.navbar.sidebar-hidden {\n  width: 300px !important;\n}\n\n.sidebar-mobile-mask {\n  position: fixed;\n  background: rgba(0,0,0,0.1);\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  display: none;\n}\n\n@media screen and (min-width: 1400px) {\n  .sidebar-container {\n    width: 20%;\n  }\n  .content-container {\n    width: 80%;\n  }\n}\n\n@media screen and (max-width: 1100px) {\n  .sidebar-container {\n    display: none;\n    position: fixed;\n    z-index: 2333;\n    top: 0;\n    width: 300px;\n    height: 100%;\n  }\n  .sidebar-container.sidebar-hidden {\n    display: none;\n  }\n  .sidebar-container.sidebar-mobile-shown {\n    display: block;\n  }\n  .content-container {\n    width: 100%;\n  }\n\n  .navbar {\n    width: 300px !important;\n  }\n  .sidebar-mobile-mask {\n    display: block;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .sidebar-container {\n    width: 100%;\n  }\n  .navbar {\n    width: 100% !important;\n  }\n}\n\n\ndiv.preview-container {\n  position: fixed;\n  z-index: 9999;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6c5cec29&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}